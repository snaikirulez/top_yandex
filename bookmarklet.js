javascript:(function(){    document.styleSheets[0].addRule(".content__right", "display:none !important");    var d = document.querySelector(".content__left"),        s = Array.from(d.getElementsByClassName("serp-item")),        o = document.createElement("ol");    o.style.paddingLeft = "20px";    var l = [], j = 1, c = {Товар: 0, Категория: 0, Информационная: 0, Главная: 0, Неизвестная: 0};    function getType(e, u) {        if (/yandex\.ru\/images\//.test(u)) return null;        if (e.querySelector(".EPrice-Content")) return "Товар";        if (e.querySelector(".GoodsHeader")) return "Категория";        if (/\/blog\/|\/articles\/|\/review\/|\/wiki\/|\/forum\//i.test(u)) return "Информационная";        try {            var p = new URL(u).pathname;            if (p === "/") return "Главная";            if (/\/(category|catalog)\/[^\/]+\/?$/.test(p) || /^https:\/\/market\.yandex\.ru\/catalog--/.test(u)) return "Категория";        } catch (e) {}        return "Неизвестная";    }    s.forEach(e => {        if (e.querySelector(".AdvLabel-Text")) {            e.remove();            return;        }        var a = e.querySelector("a");        if (!a) return;        var u = a.href, y = getType(e, u);        if (!y) { e.remove(); return; }        c[y]++; l.push({ url: u, type: y });        var li = document.createElement("li"), lnk = document.createElement("a");        lnk.href = u; lnk.target = "_blank"; lnk.rel = "noopener noreferrer"; lnk.innerText = u;        li.appendChild(lnk); li.innerHTML += " - <b>" + y + "</b>";        o.appendChild(li);        e.innerHTML = "<p><b>" + (j++) + " (" + y + ")</b></p>" + e.innerHTML;    });    function openAll() {        l.forEach((e, i) => setTimeout(() => {            var w = window.open(e.url, %27_blank%27, %27noopener,noreferrer%27);            if (w) w.blur();            window.focus();        }, i * 500));    }    function copyAll() {        var t = document.createElement("textarea");        t.value = l.map(e => e.url + " - " + e.type).join("\n");        document.body.appendChild(t);        t.select();        document.execCommand("copy");        t.remove();    }    var b = document.createElement("div"),        ob = document.createElement("button"),        cb = document.createElement("button"),        stats = document.createElement("p");    ob.innerText = "Открыть все";    cb.innerText = "Скопировать ссылки";    [ob, cb].forEach(btn => {        btn.style.padding = "5px 10px"; btn.style.marginRight = "10px"; btn.style.cursor = "pointer";    });    ob.onclick = openAll; cb.onclick = copyAll;    b.appendChild(ob); b.appendChild(cb);    stats.innerHTML = Object.entries(c).filter(e => e[1] > 0).map(e => e[0] + ": " + e[1]).join(", ");    if (stats.innerHTML) d.prepend(stats);    d.prepend(b); d.prepend(document.createElement("hr"));    d.prepend(o); d.prepend(document.createElement("hr"));})();
